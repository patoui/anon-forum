<div id="reply" class="mt-4">

  <h5 class="ml-2 text-muted">Reply</h5>

  <%= form_tag("/thread/#{@post.slug}/reply") do %>

    <div class="form-group">

      <textarea id="reply_body" name="body" class="form-control" placeholder="Leave a reply..."></textarea>

      <div class="invalid-feedback d-block">

        <% if @reply.present? and @reply.errors.include?(:body) %>

          <% @reply.errors[:body].each do |message| %>

            <p><%= message %></p>

          <% end %>

        <% end %>

      </div>

    </div>

    <button type="submit" class="btn btn-outline-secondary btn-sm">Submit</button>

  <% end %>

</div>

<div id="replies" class="mt-4">

  <h5 class="ml-2 text-muted">Replies</h5>

  <ul class="list-group list-group-flush">

    <% @post.replies.each do |reply| %>

    <li class="list-group-item">

      <p class="mb-2"><%= reply.body %></p>

      <p id="reply_actions" class="m-0 ml-2">

        <%= form_tag("/thread/#{@post.slug}/reply/#{reply.id}/upvote", class: "d-inline-block") do %><button type="submit" class="btn pl-2 pr-2 light-grey"><i class="fas fa-thumbs-up"></i><span class="ml-3"><%= reply.upvote_count %></span></button><% end %>

        <%= form_tag("/thread/#{@post.slug}/reply/#{reply.id}/downvote", class: "d-inline-block") do %><button type="submit" class="btn pl-2 pr-2 light-grey"><i class="fas fa-thumbs-down"></i><span class="ml-3"><%= reply.downvote_count %></span></button><% end %>

      </p>

    </li>

    <% end %>

  </ul>

</div>
